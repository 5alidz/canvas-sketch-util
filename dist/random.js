// a utility for random number generation
var seedRandom = require('seed-random');
var SimplexNoise = require('simplex-noise');
var ref = require('./math');
var lerpArray = ref.lerpArray;
var expand2D = ref.expand2D;
var ref$1 = require('./geom');
var getPolylineArclengths = ref$1.getPolylineArclengths;

var NoiseGenerator = function NoiseGenerator (rnd) {
  this._simplex = new SimplexNoise(rnd);
};

NoiseGenerator.prototype.noise1D = function noise1D (x) {
  return this._simplex.noise2D(x, 0);
};

NoiseGenerator.prototype.noise2D = function noise2D (x, y) {
  return this._simplex.noise2D(x, y);
};

NoiseGenerator.prototype.noise3D = function noise3D (x, y, z) {
  return this._simplex.noise3D(x, y, z);
};

NoiseGenerator.prototype.noise4D = function noise4D (x, y, z, w) {
  return this._simplex.noise4D(x, y, z, w);
};

var Rand = function Rand (defaultSeed, opt) {
  if ( defaultSeed === void 0 ) defaultSeed = null;
  if ( opt === void 0 ) opt = {};

  this.defaultRandom = Math.random;
  this.quiet = opt.quiet !== false;
  this._nextGaussian = null;
  this._hasNextGaussian = false;
  this.setSeed(defaultSeed);
};

Rand.prototype.createInstance = function createInstance (seed, opt) {
  return new Rand(seed, opt);
};

Rand.prototype.getRandomSeed = function getRandomSeed () {
  var seed = String(Math.floor(Math.random() * 1000000));
  return seed;
};

Rand.prototype.setSeed = function setSeed (seed, opt) {
    if ( opt === void 0 ) opt = {};

  if (typeof seed === 'number' || typeof seed === 'string') {
    this.seed = String(seed);
    if (!this.quiet) { console.log('[util-random] Current Seed:', this.seed); }
    this.random = seedRandom(this.seed, opt);
  } else {
    this.seed = null;
    this.random = this.defaultRandom;
  }
  this.noiseGenerator = this._createNoise();
  this._nextGaussian = null;
  this._hasNextGaussian = false;
};

Rand.prototype.value = function value () {
  return this.random();
};

Rand.prototype.valueNonZero = function valueNonZero () {
    var this$1 = this;

  var u = 0;
  while (u === 0) { u = this$1.value(); }
  return u;
};

Rand.prototype.getSeed = function getSeed () {
  return this.seed;
};

// Should this be public?
Rand.prototype._createNoise = function _createNoise () {
  return new NoiseGenerator(this.random);
};

Rand.prototype.permuteNoise = function permuteNoise () {
  this.noiseGenerator = this._createNoise();
};

Rand.prototype.noise1D = function noise1D (x) {
  return this.noiseGenerator.noise1D(x);
};

Rand.prototype.noise2D = function noise2D (x, y) {
  return this.noiseGenerator.noise2D(x, y);
};

Rand.prototype.noise3D = function noise3D (x, y, z) {
  return this.noiseGenerator.noise3D(x, y, z);
};

Rand.prototype.noise4D = function noise4D (x, y, z, w) {
  return this.noiseGenerator.noise4D(x, y, z, w);
};

Rand.prototype.sign = function sign () {
  return this.boolean() ? 1 : -1;
};

Rand.prototype.boolean = function boolean () {
  return this.value() > 0.5;
};

Rand.prototype.chance = function chance (n) {
    if ( n === void 0 ) n = 0.5;

  return this.value() < n;
};

Rand.prototype.range = function range (min, max) {
  if (max === undefined) {
    max = min;
    min = 0;
  }

  if (typeof min !== 'number' || typeof max !== 'number') {
    throw new TypeError('Expected all arguments to be numbers');
  }

  return this.value() * (max - min) + min;
};

Rand.prototype.rangeFloor = function rangeFloor (min, max) {
  if (max === undefined) {
    max = min;
    min = 0;
  }

  if (typeof min !== 'number' || typeof max !== 'number') {
    throw new TypeError('Expected all arguments to be numbers');
  }

  return Math.floor(this.range(min, max));
};

Rand.prototype.pick = function pick (array) {
  if (array.length === 0) { return undefined; }
  return array[this.rangeFloor(0, array.length)];
};

Rand.prototype.shuffle = function shuffle (arr) {
    var this$1 = this;

  if (!Array.isArray(arr)) {
    throw new TypeError('Expected Array, got ' + typeof arr);
  }

  var rand;
  var tmp;
  var len = arr.length;
  var ret = arr.slice();
  while (len) {
    rand = Math.floor(this$1.value() * len--);
    tmp = ret[len];
    ret[len] = ret[rand];
    ret[rand] = tmp;
  }
  return ret;
};

Rand.prototype.insideSquare = function insideSquare (scale, out) {
    if ( scale === void 0 ) scale = 1;
    if ( out === void 0 ) out = [];

  scale = expand2D(scale, 1);
  out[0] = scale[0] * this.range(-1, 1);
  out[1] = scale[1] * this.range(-1, 1);
  return out;
};

Rand.prototype.onSquare = function onSquare (scale, out) {
    if ( scale === void 0 ) scale = 1;
    if ( out === void 0 ) out = [];

  scale = expand2D(scale, 1);
  var path = [
    [ -scale[0], -scale[1] ], [ scale[0], -scale[1] ],
    [ scale[0], scale[1] ], [ -scale[0], scale[1] ]
  ];
  path.push(path[0]);
  return this.onPolyline(path, out);
};

Rand.prototype.onPolyline = function onPolyline (path, out) {
    if ( out === void 0 ) out = [];

  if (path.length === 0) {
    throw new Error('The path has no points; cannot determine a random point along it.');
  }
  if (path.length === 1) {
    return path[0].slice();
  }

  var arclengths = getPolylineArclengths(path);
  var edges = [];
  for (var i = 0; i < path.length - 1; i++) {
    edges.push(arclengths[i + 1] - arclengths[i]);
  }

  var index = this.weighted(edges);
  return this.onLineSegment(path[index], path[index + 1], out);
};

Rand.prototype.onLineSegment = function onLineSegment (a, b, out) {
    if ( out === void 0 ) out = [];

  var t = this.value();
  return lerpArray(a, b, t, out);
};

Rand.prototype.onCircle = function onCircle (radius, out) {
    if ( radius === void 0 ) radius = 1;
    if ( out === void 0 ) out = [];

  var theta = this.value() * 2.0 * Math.PI;
  out[0] = radius * Math.cos(theta);
  out[1] = radius * Math.sin(theta);
  return out;
};

Rand.prototype.insideCircle = function insideCircle (radius, out) {
    if ( radius === void 0 ) radius = 1;
    if ( out === void 0 ) out = [];

  this.onCircle(1, out);
  var r = radius * Math.sqrt(this.value());
  out[0] *= r;
  out[1] *= r;
  return out;
};

Rand.prototype.onSphere = function onSphere (radius, out) {
    if ( radius === void 0 ) radius = 1;
    if ( out === void 0 ) out = [];

  var u = this.value() * Math.PI * 2;
  var v = this.value() * 2 - 1;
  var phi = u;
  var theta = Math.acos(v);
  out[0] = radius * Math.sin(theta) * Math.cos(phi);
  out[1] = radius * Math.sin(theta) * Math.sin(phi);
  out[2] = radius * Math.cos(theta);
  return out;
};

Rand.prototype.insideSphere = function insideSphere (radius, out) {
    if ( radius === void 0 ) radius = 1;
    if ( out === void 0 ) out = [];

  var u = this.value() * Math.PI * 2;
  var v = this.value() * 2 - 1;
  var k = this.value();

  var phi = u;
  var theta = Math.acos(v);
  var r = radius * Math.cbrt(k);
  out[0] = r * Math.sin(theta) * Math.cos(phi);
  out[1] = r * Math.sin(theta) * Math.sin(phi);
  out[2] = r * Math.cos(theta);
  return out;
};

Rand.prototype.quaternion = function quaternion (out) {
    if ( out === void 0 ) out = [];

  var u1 = this.value();
  var u2 = this.value();
  var u3 = this.value();

  var sq1 = Math.sqrt(1 - u1);
  var sq2 = Math.sqrt(u1);

  var theta1 = Math.PI * 2 * u2;
  var theta2 = Math.PI * 2 * u3;

  var x = Math.sin(theta1) * sq1;
  var y = Math.cos(theta1) * sq1;
  var z = Math.sin(theta2) * sq2;
  var w = Math.cos(theta2) * sq2;
  out[0] = x;
  out[1] = y;
  out[2] = z;
  out[3] = w;
  return out;
};

Rand.prototype.weightedSet = function weightedSet (set) {
    if ( set === void 0 ) set = [];

  if (set.length === 0) { return null; }
  return set[this.weightedSetIndex(set)].value;
};

Rand.prototype.weightedSetIndex = function weightedSetIndex (set) {
    if ( set === void 0 ) set = [];

  if (set.length === 0) { return -1; }
  return this.weighted(set.map(function (s) { return s.weight; }));
};

Rand.prototype.weighted = function weighted (weights) {
    if ( weights === void 0 ) weights = [];

  if (weights.length === 0) { return -1; }
  var totalWeight = 0;

  for (var i = 0; i < weights.length; i++) {
    totalWeight += weights[i];
  }

  if (totalWeight <= 0) { throw new Error('Weights must sum to > 0'); }

  var random = this.value() * totalWeight;
  for (var i$1 = 0; i$1 < weights.length; i$1++) {
    if (random < weights[i$1]) {
      return i$1;
    }
    random -= weights[i$1];
  }
  return 0;
};

// Distributions

Rand.prototype.gaussian = function gaussian (mean, standardDerivation) {
    var this$1 = this;
    if ( mean === void 0 ) mean = 0;
    if ( standardDerivation === void 0 ) standardDerivation = 1;

  // https://github.com/openjdk-mirror/jdk7u-jdk/blob/f4d80957e89a19a29bb9f9807d2a28351ed7f7df/src/share/classes/java/util/Random.java#L496
  if (this._hasNextGaussian) {
    this._hasNextGaussian = false;
    var result = this._nextGaussian;
    this._nextGaussian = null;
    return mean + standardDerivation * result;
  } else {
    var v1 = 0;
    var v2 = 0;
    var s = 0;
    do {
      v1 = this$1.value() * 2 - 1; // between -1 and 1
      v2 = this$1.value() * 2 - 1; // between -1 and 1
      s = v1 * v1 + v2 * v2;
    } while (s >= 1 || s === 0);
    var multiplier = Math.sqrt(-2 * Math.log(s) / s);
    this._nextGaussian = (v2 * multiplier);
    this._hasNextGaussian = true;
    return mean + standardDerivation * (v1 * multiplier);
  }
};

Rand.prototype.laplace = function laplace (mean, std) {
    if ( mean === void 0 ) mean = 0;
    if ( std === void 0 ) std = 1;

  var u = this.value();
  u = u + u - 1.0;
  if (u > 0) { return mean + std * -Math.log(1.0 - u); }
  else { return mean + std * Math.log(1.0 + u); }
};

Rand.prototype.logistic = function logistic (mean, std) {
    if ( mean === void 0 ) mean = 0;
    if ( std === void 0 ) std = 1;

  return mean + std * (-Math.log(1.0 / this.valueNonZero() - 1.0));
};

Rand.prototype.powerLaw = function powerLaw (mean, std, alpha, cut) {
    if ( mean === void 0 ) mean = 0;
    if ( std === void 0 ) std = 1;
    if ( alpha === void 0 ) alpha = 0;
    if ( cut === void 0 ) cut = 1;

  if (alpha < 0) { throw new Error('alpha must be >= 0'); }
  return mean + std * (cut * Math.pow(this.value(), 1.0 / (alpha + 1.0)));
};

Rand.prototype.weibull = function weibull (mean, std, alpha, beta) {
    if ( mean === void 0 ) mean = 0;
    if ( std === void 0 ) std = 1;
    if ( alpha === void 0 ) alpha = 1;
    if ( beta === void 0 ) beta = 1;

  if (alpha <= 0) { throw new Error('alpha must be > 0'); }
  return mean + std * Math.pow(beta * (-Math.log(1.0 - this.value())), 1.0 / alpha);
};

Rand.prototype.erlang = function erlang (mean, std, exp, variance) {
    var this$1 = this;
    if ( mean === void 0 ) mean = 0;
    if ( std === void 0 ) std = 1;
    if ( exp === void 0 ) exp = 1;
    if ( variance === void 0 ) variance = 1;

  if (variance === 0) { throw new Error('variance must be != 0'); }
  var k = Math.floor((exp * exp) / variance + 0.5);
  k = (k > 0) ? k : 1;
  var a = k / exp;
  var prod = 1.0;
  for (var i = 0; i < k; i++) { prod *= this$1.value(); }
  return mean + std * (-Math.log(prod) / a);
};

Rand.prototype.lambda = function lambda (mean, std, l3, l4) {
    if ( mean === void 0 ) mean = 0;
    if ( std === void 0 ) std = 1;
    if ( l3 === void 0 ) l3 = 1;
    if ( l4 === void 0 ) l4 = 1;

  var lSign = ((l3 < 0) || (l4 < 0)) ? -1 : 1;
  var u = this.valueNonZero();
  var x = lSign * (Math.exp(Math.log(u) * l3) - Math.exp(Math.log(1.0 - u) * l4));
  return mean + std * x;
};

Rand.prototype.triangular = function triangular (mean, std) {
    if ( mean === void 0 ) mean = 0;
    if ( std === void 0 ) std = 1;

  var u = this.value();
  if (u <= 0.5) { return mean + std * (Math.sqrt(2.0 * u) - 1.0); }
  else { return mean + std * (1.0 - Math.sqrt(2.0 * (1.0 - u))); }
};

Rand.prototype.cauchy = function cauchy (mean, std) {
    if ( mean === void 0 ) mean = 0;
    if ( std === void 0 ) std = 1;

  return mean + std * Math.tan(Math.PI * this.value());
};

module.exports = new Rand();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFuZG9tLmpzIiwic291cmNlcyI6WyIuLi9zcmMvcmFuZG9tLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGEgdXRpbGl0eSBmb3IgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uXG5jb25zdCBzZWVkUmFuZG9tID0gcmVxdWlyZSgnc2VlZC1yYW5kb20nKTtcbmNvbnN0IFNpbXBsZXhOb2lzZSA9IHJlcXVpcmUoJ3NpbXBsZXgtbm9pc2UnKTtcbmNvbnN0IHsgbGVycEFycmF5LCBleHBhbmQyRCB9ID0gcmVxdWlyZSgnLi9tYXRoJyk7XG5jb25zdCB7IGdldFBvbHlsaW5lQXJjbGVuZ3RocyB9ID0gcmVxdWlyZSgnLi9nZW9tJyk7XG5cbmNsYXNzIE5vaXNlR2VuZXJhdG9yIHtcbiAgY29uc3RydWN0b3IgKHJuZCkge1xuICAgIHRoaXMuX3NpbXBsZXggPSBuZXcgU2ltcGxleE5vaXNlKHJuZCk7XG4gIH1cblxuICBub2lzZTFEICh4KSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpbXBsZXgubm9pc2UyRCh4LCAwKTtcbiAgfVxuXG4gIG5vaXNlMkQgKHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5fc2ltcGxleC5ub2lzZTJEKHgsIHkpO1xuICB9XG5cbiAgbm9pc2UzRCAoeCwgeSwgeikge1xuICAgIHJldHVybiB0aGlzLl9zaW1wbGV4Lm5vaXNlM0QoeCwgeSwgeik7XG4gIH1cblxuICBub2lzZTREICh4LCB5LCB6LCB3KSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpbXBsZXgubm9pc2U0RCh4LCB5LCB6LCB3KTtcbiAgfVxufVxuXG5jbGFzcyBSYW5kIHtcbiAgY29uc3RydWN0b3IgKGRlZmF1bHRTZWVkID0gbnVsbCwgb3B0ID0ge30pIHtcbiAgICB0aGlzLmRlZmF1bHRSYW5kb20gPSBNYXRoLnJhbmRvbTtcbiAgICB0aGlzLnF1aWV0ID0gb3B0LnF1aWV0ICE9PSBmYWxzZTtcbiAgICB0aGlzLl9uZXh0R2F1c3NpYW4gPSBudWxsO1xuICAgIHRoaXMuX2hhc05leHRHYXVzc2lhbiA9IGZhbHNlO1xuICAgIHRoaXMuc2V0U2VlZChkZWZhdWx0U2VlZCk7XG4gIH1cblxuICBjcmVhdGVJbnN0YW5jZSAoc2VlZCwgb3B0KSB7XG4gICAgcmV0dXJuIG5ldyBSYW5kKHNlZWQsIG9wdCk7XG4gIH1cblxuICBnZXRSYW5kb21TZWVkICgpIHtcbiAgICBjb25zdCBzZWVkID0gU3RyaW5nKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApKTtcbiAgICByZXR1cm4gc2VlZDtcbiAgfVxuXG4gIHNldFNlZWQgKHNlZWQsIG9wdCA9IHt9KSB7XG4gICAgaWYgKHR5cGVvZiBzZWVkID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygc2VlZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuc2VlZCA9IFN0cmluZyhzZWVkKTtcbiAgICAgIGlmICghdGhpcy5xdWlldCkgY29uc29sZS5sb2coJ1t1dGlsLXJhbmRvbV0gQ3VycmVudCBTZWVkOicsIHRoaXMuc2VlZCk7XG4gICAgICB0aGlzLnJhbmRvbSA9IHNlZWRSYW5kb20odGhpcy5zZWVkLCBvcHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlZWQgPSBudWxsO1xuICAgICAgdGhpcy5yYW5kb20gPSB0aGlzLmRlZmF1bHRSYW5kb207XG4gICAgfVxuICAgIHRoaXMubm9pc2VHZW5lcmF0b3IgPSB0aGlzLl9jcmVhdGVOb2lzZSgpO1xuICAgIHRoaXMuX25leHRHYXVzc2lhbiA9IG51bGw7XG4gICAgdGhpcy5faGFzTmV4dEdhdXNzaWFuID0gZmFsc2U7XG4gIH1cblxuICB2YWx1ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmFuZG9tKCk7XG4gIH1cblxuICB2YWx1ZU5vblplcm8gKCkge1xuICAgIGxldCB1ID0gMDtcbiAgICB3aGlsZSAodSA9PT0gMCkgdSA9IHRoaXMudmFsdWUoKTtcbiAgICByZXR1cm4gdTtcbiAgfVxuXG4gIGdldFNlZWQgKCkge1xuICAgIHJldHVybiB0aGlzLnNlZWQ7XG4gIH1cblxuICAvLyBTaG91bGQgdGhpcyBiZSBwdWJsaWM/XG4gIF9jcmVhdGVOb2lzZSAoKSB7XG4gICAgcmV0dXJuIG5ldyBOb2lzZUdlbmVyYXRvcih0aGlzLnJhbmRvbSk7XG4gIH1cblxuICBwZXJtdXRlTm9pc2UgKCkge1xuICAgIHRoaXMubm9pc2VHZW5lcmF0b3IgPSB0aGlzLl9jcmVhdGVOb2lzZSgpO1xuICB9XG5cbiAgbm9pc2UxRCAoeCkge1xuICAgIHJldHVybiB0aGlzLm5vaXNlR2VuZXJhdG9yLm5vaXNlMUQoeCk7XG4gIH1cblxuICBub2lzZTJEICh4LCB5KSB7XG4gICAgcmV0dXJuIHRoaXMubm9pc2VHZW5lcmF0b3Iubm9pc2UyRCh4LCB5KTtcbiAgfVxuXG4gIG5vaXNlM0QgKHgsIHksIHopIHtcbiAgICByZXR1cm4gdGhpcy5ub2lzZUdlbmVyYXRvci5ub2lzZTNEKHgsIHksIHopO1xuICB9XG5cbiAgbm9pc2U0RCAoeCwgeSwgeiwgdykge1xuICAgIHJldHVybiB0aGlzLm5vaXNlR2VuZXJhdG9yLm5vaXNlNEQoeCwgeSwgeiwgdyk7XG4gIH1cblxuICBzaWduICgpIHtcbiAgICByZXR1cm4gdGhpcy5ib29sZWFuKCkgPyAxIDogLTE7XG4gIH1cblxuICBib29sZWFuICgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSgpID4gMC41O1xuICB9XG5cbiAgY2hhbmNlIChuID0gMC41KSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUoKSA8IG47XG4gIH1cblxuICByYW5nZSAobWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBtaW4gIT09ICdudW1iZXInIHx8IHR5cGVvZiBtYXggIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhbGwgYXJndW1lbnRzIHRvIGJlIG51bWJlcnMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy52YWx1ZSgpICogKG1heCAtIG1pbikgKyBtaW47XG4gIH1cblxuICByYW5nZUZsb29yIChtaW4sIG1heCkge1xuICAgIGlmIChtYXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWF4ID0gbWluO1xuICAgICAgbWluID0gMDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG1pbiAhPT0gJ251bWJlcicgfHwgdHlwZW9mIG1heCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGFsbCBhcmd1bWVudHMgdG8gYmUgbnVtYmVycycpO1xuICAgIH1cblxuICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMucmFuZ2UobWluLCBtYXgpKTtcbiAgfVxuXG4gIHBpY2sgKGFycmF5KSB7XG4gICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICByZXR1cm4gYXJyYXlbdGhpcy5yYW5nZUZsb29yKDAsIGFycmF5Lmxlbmd0aCldO1xuICB9XG5cbiAgc2h1ZmZsZSAoYXJyKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIEFycmF5LCBnb3QgJyArIHR5cGVvZiBhcnIpO1xuICAgIH1cblxuICAgIHZhciByYW5kO1xuICAgIHZhciB0bXA7XG4gICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgdmFyIHJldCA9IGFyci5zbGljZSgpO1xuICAgIHdoaWxlIChsZW4pIHtcbiAgICAgIHJhbmQgPSBNYXRoLmZsb29yKHRoaXMudmFsdWUoKSAqIGxlbi0tKTtcbiAgICAgIHRtcCA9IHJldFtsZW5dO1xuICAgICAgcmV0W2xlbl0gPSByZXRbcmFuZF07XG4gICAgICByZXRbcmFuZF0gPSB0bXA7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICBpbnNpZGVTcXVhcmUgKHNjYWxlID0gMSwgb3V0ID0gW10pIHtcbiAgICBzY2FsZSA9IGV4cGFuZDJEKHNjYWxlLCAxKTtcbiAgICBvdXRbMF0gPSBzY2FsZVswXSAqIHRoaXMucmFuZ2UoLTEsIDEpO1xuICAgIG91dFsxXSA9IHNjYWxlWzFdICogdGhpcy5yYW5nZSgtMSwgMSk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIG9uU3F1YXJlIChzY2FsZSA9IDEsIG91dCA9IFtdKSB7XG4gICAgc2NhbGUgPSBleHBhbmQyRChzY2FsZSwgMSk7XG4gICAgY29uc3QgcGF0aCA9IFtcbiAgICAgIFsgLXNjYWxlWzBdLCAtc2NhbGVbMV0gXSwgWyBzY2FsZVswXSwgLXNjYWxlWzFdIF0sXG4gICAgICBbIHNjYWxlWzBdLCBzY2FsZVsxXSBdLCBbIC1zY2FsZVswXSwgc2NhbGVbMV0gXVxuICAgIF07XG4gICAgcGF0aC5wdXNoKHBhdGhbMF0pO1xuICAgIHJldHVybiB0aGlzLm9uUG9seWxpbmUocGF0aCwgb3V0KTtcbiAgfVxuXG4gIG9uUG9seWxpbmUgKHBhdGgsIG91dCA9IFtdKSB7XG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwYXRoIGhhcyBubyBwb2ludHM7IGNhbm5vdCBkZXRlcm1pbmUgYSByYW5kb20gcG9pbnQgYWxvbmcgaXQuJyk7XG4gICAgfVxuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHBhdGhbMF0uc2xpY2UoKTtcbiAgICB9XG5cbiAgICBjb25zdCBhcmNsZW5ndGhzID0gZ2V0UG9seWxpbmVBcmNsZW5ndGhzKHBhdGgpO1xuICAgIGNvbnN0IGVkZ2VzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgZWRnZXMucHVzaChhcmNsZW5ndGhzW2kgKyAxXSAtIGFyY2xlbmd0aHNbaV0pO1xuICAgIH1cblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy53ZWlnaHRlZChlZGdlcyk7XG4gICAgcmV0dXJuIHRoaXMub25MaW5lU2VnbWVudChwYXRoW2luZGV4XSwgcGF0aFtpbmRleCArIDFdLCBvdXQpO1xuICB9XG5cbiAgb25MaW5lU2VnbWVudCAoYSwgYiwgb3V0ID0gW10pIHtcbiAgICBjb25zdCB0ID0gdGhpcy52YWx1ZSgpO1xuICAgIHJldHVybiBsZXJwQXJyYXkoYSwgYiwgdCwgb3V0KTtcbiAgfVxuXG4gIG9uQ2lyY2xlIChyYWRpdXMgPSAxLCBvdXQgPSBbXSkge1xuICAgIGNvbnN0IHRoZXRhID0gdGhpcy52YWx1ZSgpICogMi4wICogTWF0aC5QSTtcbiAgICBvdXRbMF0gPSByYWRpdXMgKiBNYXRoLmNvcyh0aGV0YSk7XG4gICAgb3V0WzFdID0gcmFkaXVzICogTWF0aC5zaW4odGhldGEpO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICBpbnNpZGVDaXJjbGUgKHJhZGl1cyA9IDEsIG91dCA9IFtdKSB7XG4gICAgdGhpcy5vbkNpcmNsZSgxLCBvdXQpO1xuICAgIGNvbnN0IHIgPSByYWRpdXMgKiBNYXRoLnNxcnQodGhpcy52YWx1ZSgpKTtcbiAgICBvdXRbMF0gKj0gcjtcbiAgICBvdXRbMV0gKj0gcjtcbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgb25TcGhlcmUgKHJhZGl1cyA9IDEsIG91dCA9IFtdKSB7XG4gICAgY29uc3QgdSA9IHRoaXMudmFsdWUoKSAqIE1hdGguUEkgKiAyO1xuICAgIGNvbnN0IHYgPSB0aGlzLnZhbHVlKCkgKiAyIC0gMTtcbiAgICBjb25zdCBwaGkgPSB1O1xuICAgIGNvbnN0IHRoZXRhID0gTWF0aC5hY29zKHYpO1xuICAgIG91dFswXSA9IHJhZGl1cyAqIE1hdGguc2luKHRoZXRhKSAqIE1hdGguY29zKHBoaSk7XG4gICAgb3V0WzFdID0gcmFkaXVzICogTWF0aC5zaW4odGhldGEpICogTWF0aC5zaW4ocGhpKTtcbiAgICBvdXRbMl0gPSByYWRpdXMgKiBNYXRoLmNvcyh0aGV0YSk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIGluc2lkZVNwaGVyZSAocmFkaXVzID0gMSwgb3V0ID0gW10pIHtcbiAgICBjb25zdCB1ID0gdGhpcy52YWx1ZSgpICogTWF0aC5QSSAqIDI7XG4gICAgY29uc3QgdiA9IHRoaXMudmFsdWUoKSAqIDIgLSAxO1xuICAgIGNvbnN0IGsgPSB0aGlzLnZhbHVlKCk7XG5cbiAgICBjb25zdCBwaGkgPSB1O1xuICAgIGNvbnN0IHRoZXRhID0gTWF0aC5hY29zKHYpO1xuICAgIGNvbnN0IHIgPSByYWRpdXMgKiBNYXRoLmNicnQoayk7XG4gICAgb3V0WzBdID0gciAqIE1hdGguc2luKHRoZXRhKSAqIE1hdGguY29zKHBoaSk7XG4gICAgb3V0WzFdID0gciAqIE1hdGguc2luKHRoZXRhKSAqIE1hdGguc2luKHBoaSk7XG4gICAgb3V0WzJdID0gciAqIE1hdGguY29zKHRoZXRhKTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgcXVhdGVybmlvbiAob3V0ID0gW10pIHtcbiAgICBjb25zdCB1MSA9IHRoaXMudmFsdWUoKTtcbiAgICBjb25zdCB1MiA9IHRoaXMudmFsdWUoKTtcbiAgICBjb25zdCB1MyA9IHRoaXMudmFsdWUoKTtcblxuICAgIGNvbnN0IHNxMSA9IE1hdGguc3FydCgxIC0gdTEpO1xuICAgIGNvbnN0IHNxMiA9IE1hdGguc3FydCh1MSk7XG5cbiAgICBjb25zdCB0aGV0YTEgPSBNYXRoLlBJICogMiAqIHUyO1xuICAgIGNvbnN0IHRoZXRhMiA9IE1hdGguUEkgKiAyICogdTM7XG5cbiAgICBjb25zdCB4ID0gTWF0aC5zaW4odGhldGExKSAqIHNxMTtcbiAgICBjb25zdCB5ID0gTWF0aC5jb3ModGhldGExKSAqIHNxMTtcbiAgICBjb25zdCB6ID0gTWF0aC5zaW4odGhldGEyKSAqIHNxMjtcbiAgICBjb25zdCB3ID0gTWF0aC5jb3ModGhldGEyKSAqIHNxMjtcbiAgICBvdXRbMF0gPSB4O1xuICAgIG91dFsxXSA9IHk7XG4gICAgb3V0WzJdID0gejtcbiAgICBvdXRbM10gPSB3O1xuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICB3ZWlnaHRlZFNldCAoc2V0ID0gW10pIHtcbiAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHNldFt0aGlzLndlaWdodGVkU2V0SW5kZXgoc2V0KV0udmFsdWU7XG4gIH1cblxuICB3ZWlnaHRlZFNldEluZGV4IChzZXQgPSBbXSkge1xuICAgIGlmIChzZXQubGVuZ3RoID09PSAwKSByZXR1cm4gLTE7XG4gICAgcmV0dXJuIHRoaXMud2VpZ2h0ZWQoc2V0Lm1hcChzID0+IHMud2VpZ2h0KSk7XG4gIH1cblxuICB3ZWlnaHRlZCAod2VpZ2h0cyA9IFtdKSB7XG4gICAgaWYgKHdlaWdodHMubGVuZ3RoID09PSAwKSByZXR1cm4gLTE7XG4gICAgbGV0IHRvdGFsV2VpZ2h0ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2VpZ2h0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdG90YWxXZWlnaHQgKz0gd2VpZ2h0c1tpXTtcbiAgICB9XG5cbiAgICBpZiAodG90YWxXZWlnaHQgPD0gMCkgdGhyb3cgbmV3IEVycm9yKCdXZWlnaHRzIG11c3Qgc3VtIHRvID4gMCcpO1xuXG4gICAgbGV0IHJhbmRvbSA9IHRoaXMudmFsdWUoKSAqIHRvdGFsV2VpZ2h0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2VpZ2h0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJhbmRvbSA8IHdlaWdodHNbaV0pIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgICByYW5kb20gLT0gd2VpZ2h0c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvLyBEaXN0cmlidXRpb25zXG5cbiAgZ2F1c3NpYW4gKG1lYW4gPSAwLCBzdGFuZGFyZERlcml2YXRpb24gPSAxKSB7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL29wZW5qZGstbWlycm9yL2pkazd1LWpkay9ibG9iL2Y0ZDgwOTU3ZTg5YTE5YTI5YmI5Zjk4MDdkMmEyODM1MWVkN2Y3ZGYvc3JjL3NoYXJlL2NsYXNzZXMvamF2YS91dGlsL1JhbmRvbS5qYXZhI0w0OTZcbiAgICBpZiAodGhpcy5faGFzTmV4dEdhdXNzaWFuKSB7XG4gICAgICB0aGlzLl9oYXNOZXh0R2F1c3NpYW4gPSBmYWxzZTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX25leHRHYXVzc2lhbjtcbiAgICAgIHRoaXMuX25leHRHYXVzc2lhbiA9IG51bGw7XG4gICAgICByZXR1cm4gbWVhbiArIHN0YW5kYXJkRGVyaXZhdGlvbiAqIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHYxID0gMDtcbiAgICAgIGxldCB2MiA9IDA7XG4gICAgICBsZXQgcyA9IDA7XG4gICAgICBkbyB7XG4gICAgICAgIHYxID0gdGhpcy52YWx1ZSgpICogMiAtIDE7IC8vIGJldHdlZW4gLTEgYW5kIDFcbiAgICAgICAgdjIgPSB0aGlzLnZhbHVlKCkgKiAyIC0gMTsgLy8gYmV0d2VlbiAtMSBhbmQgMVxuICAgICAgICBzID0gdjEgKiB2MSArIHYyICogdjI7XG4gICAgICB9IHdoaWxlIChzID49IDEgfHwgcyA9PT0gMCk7XG4gICAgICBjb25zdCBtdWx0aXBsaWVyID0gTWF0aC5zcXJ0KC0yICogTWF0aC5sb2cocykgLyBzKTtcbiAgICAgIHRoaXMuX25leHRHYXVzc2lhbiA9ICh2MiAqIG11bHRpcGxpZXIpO1xuICAgICAgdGhpcy5faGFzTmV4dEdhdXNzaWFuID0gdHJ1ZTtcbiAgICAgIHJldHVybiBtZWFuICsgc3RhbmRhcmREZXJpdmF0aW9uICogKHYxICogbXVsdGlwbGllcik7XG4gICAgfVxuICB9XG5cbiAgbGFwbGFjZSAobWVhbiA9IDAsIHN0ZCA9IDEpIHtcbiAgICBsZXQgdSA9IHRoaXMudmFsdWUoKTtcbiAgICB1ID0gdSArIHUgLSAxLjA7XG4gICAgaWYgKHUgPiAwKSByZXR1cm4gbWVhbiArIHN0ZCAqIC1NYXRoLmxvZygxLjAgLSB1KTtcbiAgICBlbHNlIHJldHVybiBtZWFuICsgc3RkICogTWF0aC5sb2coMS4wICsgdSk7XG4gIH1cblxuICBsb2dpc3RpYyAobWVhbiA9IDAsIHN0ZCA9IDEpIHtcbiAgICByZXR1cm4gbWVhbiArIHN0ZCAqICgtTWF0aC5sb2coMS4wIC8gdGhpcy52YWx1ZU5vblplcm8oKSAtIDEuMCkpO1xuICB9XG5cbiAgcG93ZXJMYXcgKG1lYW4gPSAwLCBzdGQgPSAxLCBhbHBoYSA9IDAsIGN1dCA9IDEpIHtcbiAgICBpZiAoYWxwaGEgPCAwKSB0aHJvdyBuZXcgRXJyb3IoJ2FscGhhIG11c3QgYmUgPj0gMCcpO1xuICAgIHJldHVybiBtZWFuICsgc3RkICogKGN1dCAqIE1hdGgucG93KHRoaXMudmFsdWUoKSwgMS4wIC8gKGFscGhhICsgMS4wKSkpO1xuICB9XG5cbiAgd2VpYnVsbCAobWVhbiA9IDAsIHN0ZCA9IDEsIGFscGhhID0gMSwgYmV0YSA9IDEpIHtcbiAgICBpZiAoYWxwaGEgPD0gMCkgdGhyb3cgbmV3IEVycm9yKCdhbHBoYSBtdXN0IGJlID4gMCcpO1xuICAgIHJldHVybiBtZWFuICsgc3RkICogTWF0aC5wb3coYmV0YSAqICgtTWF0aC5sb2coMS4wIC0gdGhpcy52YWx1ZSgpKSksIDEuMCAvIGFscGhhKTtcbiAgfVxuXG4gIGVybGFuZyAobWVhbiA9IDAsIHN0ZCA9IDEsIGV4cCA9IDEsIHZhcmlhbmNlID0gMSkge1xuICAgIGlmICh2YXJpYW5jZSA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKCd2YXJpYW5jZSBtdXN0IGJlICE9IDAnKTtcbiAgICBsZXQgayA9IE1hdGguZmxvb3IoKGV4cCAqIGV4cCkgLyB2YXJpYW5jZSArIDAuNSk7XG4gICAgayA9IChrID4gMCkgPyBrIDogMTtcbiAgICBsZXQgYSA9IGsgLyBleHA7XG4gICAgbGV0IHByb2QgPSAxLjA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrOyBpKyspIHByb2QgKj0gdGhpcy52YWx1ZSgpO1xuICAgIHJldHVybiBtZWFuICsgc3RkICogKC1NYXRoLmxvZyhwcm9kKSAvIGEpO1xuICB9XG5cbiAgbGFtYmRhIChtZWFuID0gMCwgc3RkID0gMSwgbDMgPSAxLCBsNCA9IDEpIHtcbiAgICBsZXQgbFNpZ24gPSAoKGwzIDwgMCkgfHwgKGw0IDwgMCkpID8gLTEgOiAxO1xuICAgIGxldCB1ID0gdGhpcy52YWx1ZU5vblplcm8oKTtcbiAgICBsZXQgeCA9IGxTaWduICogKE1hdGguZXhwKE1hdGgubG9nKHUpICogbDMpIC0gTWF0aC5leHAoTWF0aC5sb2coMS4wIC0gdSkgKiBsNCkpO1xuICAgIHJldHVybiBtZWFuICsgc3RkICogeDtcbiAgfVxuXG4gIHRyaWFuZ3VsYXIgKG1lYW4gPSAwLCBzdGQgPSAxKSB7XG4gICAgbGV0IHUgPSB0aGlzLnZhbHVlKCk7XG4gICAgaWYgKHUgPD0gMC41KSByZXR1cm4gbWVhbiArIHN0ZCAqIChNYXRoLnNxcnQoMi4wICogdSkgLSAxLjApO1xuICAgIGVsc2UgcmV0dXJuIG1lYW4gKyBzdGQgKiAoMS4wIC0gTWF0aC5zcXJ0KDIuMCAqICgxLjAgLSB1KSkpO1xuICB9XG5cbiAgY2F1Y2h5IChtZWFuID0gMCwgc3RkID0gMSkge1xuICAgIHJldHVybiBtZWFuICsgc3RkICogTWF0aC50YW4oTWF0aC5QSSAqIHRoaXMudmFsdWUoKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgUmFuZCgpO1xuIl0sIm5hbWVzIjpbImNvbnN0IiwibGV0IiwidGhpcyIsImkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0FBLEdBQUssQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQzFDQSxHQUFLLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUM5QyxPQUE2QixHQUFHLE9BQU8sQ0FBQyxRQUFRO0FBQXhDO0FBQVcsNEJBQStCO0FBQ2xELFNBQStCLEdBQUcsT0FBTyxDQUFDLFFBQVE7QUFBMUMsd0RBQTRDOztBQUVwRCxJQUFNLGNBQWMsR0FDbEIsdUJBQVcsQ0FBQyxDQUFDLEdBQUcsRUFBRTtFQUNsQixBQUFFLElBQUksQ0FBQyxRQUFRLEdB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